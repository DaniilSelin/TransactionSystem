# API Документация

## Базовый URL
Все запросы отправляются на: `http://localhost:8080/api`.
Базовый URL можно поменять через [config.yml](../config/config.yml).

---

## 1. Отправка денег
### `POST /send`
**Описание:** Отправляет деньги с одного кошелька на другой.

### **Запрос:**
**Тело (JSON):**
```json
{
  "from": "wallet_123",
  "to": "wallet_456",
  "amount": 100.50
}
```

### **Ответ:**
- `200 OK` — транзакция успешно выполнена.
- `400 Bad Request` — ошибка в запросе.
- `500 Internal Server Error` — внутренняя ошибка сервера.

---

## 2. Получение последних транзакций
### `GET /transactions?count={count}`
**Описание:** Возвращает список последних транзакций.

### **Параметры запроса:**
- `count` (int, обязательный) — количество транзакций.

### **Пример запроса:**
```
GET /transactions?count=1
```

### **Ответ (JSON):**
```json
[
  {
    "id": 1,
    "from": "wallet_123",
    "to": "wallet_456",
    "amount": 100.50,
    "created_at": "2024-02-10T15:04:05Z"
  }
]
```

---

## 3. Получение баланса кошелька
### `GET /wallet/{address}/balance`
**Описание:** Возвращает баланс указанного кошелька.

### **Пример запроса:**
```
GET /wallet/wallet_123/balance
```

### **Ответ (JSON):**
```json
{
  "balance": 250.75
}
```

---

## 4. Создание нового кошелька
### `POST /wallet/create`
**Описание:** Создаёт новый кошелек. Адрес кошелька представляет собой uuid.

### **Запрос:**
**Тело (JSON):**
```json
{
  "balance": 100.0
}
```

### **Ответ (JSON):**
```json
{
  "address": "wallet_789"
}
```

---

## 5. Получение информации о кошельке
### `GET /wallet/{address}`
**Описание:** Возвращает информацию о кошельке.

### **Пример запроса:**
```
GET /wallet/wallet_123
```

### **Ответ (JSON):**
```json
{
  "address": "wallet_123",
  "balance": 500.0
}
```

---

## 6. Удаление кошелька
### `DELETE /wallet/{address}`
**Описание:** Удаляет кошелек.

### **Пример запроса:**
```
DELETE /wallet/wallet_123
```

### **Ответ:**
- `200 OK` — кошелек удалён.
- `400 Bad Request` — ошибка в запросе.
- `500 Internal Server Error` — внутренняя ошибка сервера.

---

## 7. Получение информации о транзакции по ID
### `GET /transaction/{id}`
**Описание:** Возвращает информацию о транзакции.

### **Пример запроса:**
```
GET /transaction/1
```

### **Ответ (JSON):**
```json
{
  "id": 1,
  "from": "wallet_123",
  "to": "wallet_456",
  "amount": 100.50,
  "created_at": "2024-02-10T15:04:05Z"
}
```

---

## 8. Удаление транзакции
### `DELETE /transaction/{id}`
**Описание:** Удаляет транзакцию.

### **Пример запроса:**
```
DELETE /transaction/1
```

### **Ответ:**
- `200 OK` — транзакция удалена.
- `400 Bad Request` — ошибка в запросе.
- `500 Internal Server Error` — внутренняя ошибка сервера.

---

## 9. Получение транзакции по параметрам
### `GET /transaction/{from}/{to}/{createdAt}`
**Описание:** Возвращает транзакцию по параметрам отправителя, получателя и времени создания.

### **Пример запроса:**
```
GET /transaction/wallet_123/wallet_456/2024-02-10T15:04:05Z
```

### **Ответ (JSON):**
```json
{
  "id": 1,
  "from": "wallet_123",
  "to": "wallet_456",
  "amount": 100.50,
  "created_at": "2024-02-10T15:04:05Z"
}
```

---

### Дополнительные заметки
- Все временные метки передаются в формате RFC3339 (`YYYY-MM-DDTHH:MM:SSZ`).
- В случае ошибки сервер сообщает о произошедщей ошибке в терминал (/поток вывода программы).

